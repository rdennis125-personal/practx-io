# yaml-language-server: $schema=https://github.com/Azure/deployment-environments/releases/download/2022-11-11-preview/manifest.schema.json


name: practx-sql
summary: Deploys an Azure SQL Server and elastic database for Practx.io environments.
description: |
  Provisions an Azure SQL Server with a General Purpose database sized for development and test workloads.
  Provide administrator credentials to manage the instance and retrieve the generated connection string
  from the deployment outputs for downstream services.

runner: Bicep
templatePath: main.bicep

parameters:
  - id: environmentType
    name: Environment type
    type: string
    description: Dev Center environment type this deployment is for.
    required: true
    allowed:
      - DEV
      - QA1
      - PROD

  - id: location
    name: Azure region
    type: string
    description: Azure region used to deploy the environment resources.
    default: westus2

  - id: baseName
    name: Resource base name
    type: string
    description: Base name combined with the environment type to create resource names.
    default: practx

  - id: sqlAdminLogin
    name: SQL administrator login
    type: string
    description: Login name for the SQL administrator account.
    required: true

  - id: sqlAdminPassword
    name: SQL administrator password
    type: string
    description: Password for the SQL administrator account.
    required: true
    secure: true
